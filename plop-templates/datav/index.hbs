<template>
  <div class="datav-wrapper">
    {{ pascalCase name }}
  </div>
</template>

<script lang='ts' setup>
import { computed, toRef, defineProps } from 'vue'
import { useDataCenter, getFieldMap } from '@/components/_mixins/use-data-center'
import { useApiStore } from '@/store/api'
import type { {{ pascalCase name }} } from './{{ dashCase name }}'

type Props = {
  com: {{ pascalCase name }}
}

const props = defineProps<Props>()

const apiStore = useApiStore()
useDataCenter(props.com)

const dv_data = computed(() => {
  return apiStore.dataMap[props.com.id]?.source ?? {}
})

const dv_field = computed(() => {
  return getFieldMap(props.com.apis.source.fields)
})

const config = toRef(props.com, 'config')
const attr = toRef(props.com, 'attr')
</script>

<script lang='ts'>
export default {
  name: 'V{{pascalCase name}}',
}
</script>
